name: dipcoatsubstrate test

on: [pull_request]

jobs:

  flake8:

    runs-on: ubuntu-latest

    steps: 
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: '3.7'
      - run: python -m pip install --upgrade pip
      - run: pip install flake8
      - run: flake8

  doc:

    needs: flake8

    runs-on: ubuntu-latest

    steps: 
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: '3.7'
      - run: python -m pip install --upgrade pip
      - run: pip install opencv-python matplotlib sphinx numpydoc sphinx_rtd_theme
      - run: cd doc; make html
